# SocSim Lab - äº§å“éœ€æ±‚æ–‡æ¡£ (PRD)

> **æ–‡æ¡£ç‰ˆæœ¬**: v3.2
> **åˆ›å»ºæ—¥æœŸ**: 2025-01-30
> **æ›´æ–°æ—¥æœŸ**: 2026-02-07
> **äº§å“çŠ¶æ€**: ç”Ÿäº§å°±ç»ª
> **ç›¸å…³æ–‡æ¡£**: [UI Inventory](./ui-inventory.md) | [LLM Integration](./LLM-Integration.md)

---

## 1. èƒŒæ™¯ & ç›®æ ‡ & éç›®æ ‡

### 1.1 èƒŒæ™¯

SocSim Lab æ˜¯ä¸€ä¸ª**ç¤¾äº¤æ¨¡æ‹Ÿå¯è§†åŒ–å¹³å°**ï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæ—¨åœ¨å¸®åŠ©ç ”ç©¶äººå‘˜ã€æ•°æ®ç§‘å­¦å®¶å’Œç­–ç•¥åˆ¶å®šè€…é€šè¿‡å¤šæ™ºèƒ½ä½“æ¨¡æ‹Ÿï¼ˆAgent-Based Modelingï¼‰æ¥ç ”ç©¶ç¤¾ä¼šåŠ¨æ€ã€èˆ†æƒ…ä¼ æ’­å’Œç¾¤ä½“è¡Œä¸ºã€‚

**é¡¹ç›®ç°çŠ¶** (v3.2):
- å‰ç«¯ UI å®Œæ•´åº¦: **100%**ï¼ˆ4ä¸ªæ ¸å¿ƒé¡µé¢å…¨éƒ¨å®ç°ï¼‰
- åç«¯ API å®Œæ•´åº¦: **100%**ï¼ˆFastAPI + SQLite + WebSocketï¼‰
- OASIS é›†æˆ: **100%**ï¼ˆç¤¾äº¤æ¨¡æ‹Ÿæ¡†æ¶å®Œæ•´é›†æˆï¼‰
- LLM æ™ºèƒ½ä½“: **100%**ï¼ˆæ”¯æŒ OpenAI/DeepSeek/vLLM/Stubï¼‰
- æ•°æ®æ¥æº: 30ä¸ªçœŸå® Twitter personasï¼ˆå·²å¯¼å…¥æ•°æ®åº“ï¼‰
- ç”Ÿäº§å°±ç»ªåº¦: **ç”Ÿäº§å°±ç»ª**
- æŠ€æœ¯æ ˆ: React 19 + FastAPI + OASIS + CAMEL + PixiJS 8.x + ECharts
- æ•°æ®æŒä¹…åŒ–: SQLite åµŒå…¥å¼æ•°æ®åº“ï¼Œæ”¯æŒè·¨ç”µè„‘éƒ¨ç½²

### 1.2 ç›®æ ‡

| ç»´åº¦ | ç›®æ ‡æè¿° | æˆåŠŸæŒ‡æ ‡ | çŠ¶æ€ |
|------|---------|---------|------|
| **å¯è§†åŒ–æ–¹æ¡ˆ** | éªŒè¯åŸºäºçœŸå®ç¤¾äº¤æ•°æ®çš„æ¨¡æ‹Ÿå¯è§†åŒ–å¯è¡Œæ€§ | ç”¨æˆ·èƒ½åœ¨ 5 åˆ†é’Ÿå†…ç†è§£äº§å“æ ¸å¿ƒä»·å€¼ | âœ… å·²è¾¾æˆ |
| **ç ”ç©¶æ”¯æŒ** | ä¸ºå­¦æœ¯ç ”ç©¶æä¾›ç›´è§‚çš„æ¨¡æ‹Ÿç»“æœå±•ç¤ºå·¥å…· | è‡³å°‘ 3 ä¸ªç ”ç©¶å›¢é˜Ÿè¡¨ç¤ºæ„¿æ„è¯•ç”¨ | âœ… å·²è¾¾æˆ |
| **æ•™å­¦æ¼”ç¤º** | ä½œä¸ºæ•™å­¦å·¥å…·å±•ç¤ºç¤¾ä¼šåŠ¨æ€æ¼”åŒ–è¿‡ç¨‹ | åœ¨è¯¾ç¨‹ä¸­è·å¾—æ­£é¢åé¦ˆ | âœ… å·²è¾¾æˆ |
| **å†³ç­–æ”¯æŒ** | å¸®åŠ©æ”¿ç­–åˆ¶å®šè€…ç†è§£å¹²é¢„æªæ–½çš„å½±å“ | èƒ½å¤Ÿæ¨¡æ‹Ÿè‡³å°‘ 3 ç§å…¸å‹å¹²é¢„åœºæ™¯ | âœ… å·²è¾¾æˆ |

### 1.3 éç›®æ ‡

| éç›®æ ‡é¡¹ | è¯´æ˜ |
|---------|------|
| **å®æ—¶å¤šäººåä½œ** | å½“å‰ç‰ˆæœ¬ä¸æ”¯æŒå¤šç”¨æˆ·åŒæ—¶ç¼–è¾‘åŒä¸€æ¨¡æ‹Ÿåœºæ™¯ |
| **ç§»åŠ¨ç«¯é€‚é…** | å½“å‰ä»…æ”¯æŒæ¡Œé¢ç«¯æµè§ˆå™¨ |
| **äº‘éƒ¨ç½²** | éœ€è¦ç”¨æˆ·è‡ªè¡Œéƒ¨ç½²ï¼Œä¸æä¾› SaaS æœåŠ¡ |

**æ³¨**: é¡¹ç›®å·²é›†æˆå®Œæ•´çš„åç«¯æœåŠ¡ï¼ŒåŒ…å«æ•°æ®æŒä¹…åŒ–å’Œ WebSocket å®æ—¶é€šä¿¡ã€‚**v3.1 æ–°å¢ LLM æ™ºèƒ½ä½“åŠŸèƒ½**ï¼Œæ”¯æŒå¤§è¯­è¨€æ¨¡å‹é©±åŠ¨æ™ºèƒ½ä½“è¡Œä¸ºã€‚

---

## 2. ç”¨æˆ·ç”»åƒ & ä½¿ç”¨åœºæ™¯

### 2.1 æ ¸å¿ƒç”¨æˆ·ç”»åƒ

#### ğŸ“ User A: å­¦æœ¯ç ”ç©¶è€… (Academic Researcher)

| å±æ€§ | æè¿° |
|------|------|
| **è§’è‰²** | å¤§å­¦ç¤¾ä¼šç§‘å­¦ç³»æ•™æˆ / åšå£«ç”Ÿ |
| **å¹´é¾„** | 28-45 å² |
| **æŠ€æœ¯èƒ½åŠ›** | ä¸­ç­‰ï¼ˆä¼šä½¿ç”¨æ•°æ®åˆ†æå·¥å…·ï¼Œä½†ä¸ç²¾é€šç¼–ç¨‹ï¼‰ |
| **ä½¿ç”¨é¢‘ç‡** | æ¯å‘¨ 2-3 æ¬¡ |
| **æ ¸å¿ƒè¯‰æ±‚** | å¯è§†åŒ–å±•ç¤ºæ¨¡æ‹Ÿç»“æœï¼Œç”¨äºè®ºæ–‡å‘è¡¨å’Œè¯¾å ‚æ¼”ç¤º |

**å…¸å‹åœºæ™¯**:
> "æˆ‘æ­£åœ¨ç ”ç©¶ç¤¾äº¤åª’ä½“ä¸Šçš„æåŒ–ç°è±¡ï¼Œéœ€è¦å±•ç¤ºä¸åŒè®¤çŸ¥ç‰¹å¾çš„æ™ºèƒ½ä½“åœ¨ä¿¡æ¯ä¼ æ’­ä¸­çš„è¡Œä¸ºå·®å¼‚ã€‚å¸Œæœ›èƒ½å¯¼å‡ºå›¾è¡¨ç”¨äºè®ºæ–‡ï¼Œå¹¶ä¸”èƒ½åœ¨è¯¾å ‚ä¸Šå®æ—¶æ¼”ç¤ºæ¨¡æ‹Ÿè¿‡ç¨‹ã€‚"

**ä½¿ç”¨è·¯å¾„**: World View â†’ Feed View â†’ Replay View

---

#### ğŸ“Š User B: æ•°æ®åˆ†æå¸ˆ (Data Analyst)

| å±æ€§ | æè¿° |
|------|------|
| **è§’è‰²** | æ™ºåº“ / å’¨è¯¢å…¬å¸åˆ†æå¸ˆ |
| **å¹´é¾„** | 25-35 å² |
| **æŠ€æœ¯èƒ½åŠ›** | è¾ƒé«˜ï¼ˆç†Ÿæ‚‰ Python/Rï¼Œä¼šå†™ä»£ç ï¼‰ |
| **ä½¿ç”¨é¢‘ç‡** | æ¯å¤© |
| **æ ¸å¿ƒè¯‰æ±‚** | å¿«é€Ÿé…ç½®æ¨¡æ‹Ÿå‚æ•°ï¼Œå¯¹æ¯”ä¸åŒåœºæ™¯çš„ç»“æœ |

**å…¸å‹åœºæ™¯**:
> "å®¢æˆ·éœ€è¦è¯„ä¼°ä¸€é¡¹æ”¿ç­–å®£ä¼ æ´»åŠ¨çš„æ•ˆæœã€‚æˆ‘éœ€è¦å¿«é€Ÿæ­å»º 3-5 ä¸ªä¸åŒå‚æ•°çš„æ¨¡æ‹Ÿåœºæ™¯ï¼Œå¯¹æ¯”å®ƒä»¬çš„ä¼ æ’­æ•ˆæœå’Œå‚ä¸åº¦å˜åŒ–ï¼Œå¹¶ç”Ÿæˆå¯è§†åŒ–æŠ¥å‘Šã€‚"

**ä½¿ç”¨è·¯å¾„**: Workbench View â†’ World View â†’ Replay View

---

#### ğŸ¨ User C: äº§å“/æ•™è‚²æ¼”ç¤ºè€… (Educator/Demo Creator)

| å±æ€§ | æè¿° |
|------|------|
| **è§’è‰²** | ç§‘å­¦ä¼ æ’­è€… / åšç‰©é¦†ç­–å±•äºº |
| **å¹´é¾„** | 30-50 å² |
| **æŠ€æœ¯èƒ½åŠ›** | åˆ-ä¸­ç­‰ |
| **ä½¿ç”¨é¢‘ç‡** | æŒ‰éœ€ï¼ˆå‡†å¤‡å±•è§ˆ/æ¼”è®²æ—¶ï¼‰ |
| **æ ¸å¿ƒè¯‰æ±‚** | ç›´è§‚ã€ç¾è§‚çš„è§†è§‰æ•ˆæœï¼Œèƒ½å¤Ÿå¸å¼•éä¸“ä¸šè§‚ä¼— |

**å…¸å‹åœºæ™¯**:
> "æˆ‘ä»¬åœ¨å‡†å¤‡ä¸€ä¸ªå…³äº'ä¿¡æ¯èŒ§æˆ¿'çš„ç§‘æ™®å±•è§ˆï¼Œéœ€è¦ä¸€ä¸ªèƒ½å¤Ÿè®©æ™®é€šè§‚ä¼—ç›´è§‚ç†è§£çš„äº’åŠ¨å±•ç¤ºã€‚å¸Œæœ›ç•Œé¢ç®€æ´ç¾è§‚ï¼Œæ“ä½œç®€å•ã€‚"

**ä½¿ç”¨è·¯å¾„**: World View â†’ Feed View

---

### 2.2 æ¬¡è¦ç”¨æˆ·ç”»åƒ

#### ğŸ”§ User D: å¼€å‘è€… (Developer)
- **è¯‰æ±‚**: API é›†æˆã€è‡ªå®šä¹‰å¯è§†åŒ–ã€æ•°æ®å¯¼å‡º
- **ä½¿ç”¨è·¯å¾„**: Workbench View (é…ç½®) â†’ Replay View (è°ƒè¯•)

#### ğŸ“ User E: å­¦ç”Ÿ (Student)
- **è¯‰æ±‚**: å®Œæˆè¯¾ç¨‹ä½œä¸šã€ç†è§£ç¤¾ä¼šæ¨¡æ‹Ÿæ¦‚å¿µ
- **ä½¿ç”¨è·¯å¾„**: World View â†’ Feed View

---

## 3. æ ¸å¿ƒç”¨æˆ·æ—…ç¨‹

### 3.1 Journey A: æ¢ç´¢å¼ç ”ç©¶ (Exploratory Research)

**ç”¨æˆ·**: å­¦æœ¯ç ”ç©¶è€… (User A)
**ç›®æ ‡**: ç†è§£æ™ºèƒ½ä½“ç¾¤ä½“çš„åŠ¨æ€æ¼”åŒ–è¿‡ç¨‹

| æ­¥éª¤ | åŠ¨ä½œ | é¡µé¢/ç»„ä»¶ | å¯¹åº” UI Inventory ç« èŠ‚ |
|------|------|----------|------------------------|
| 1 | æ‰“å¼€åº”ç”¨ï¼Œé»˜è®¤è¿›å…¥ä¸–ç•Œè§†å›¾ | `WorldView` | [2.2 WorldView é¡µé¢](./ui-inventory.md#22-worldview-é¡µé¢---ä¸–ç•Œè§†å›¾) |
| 2 | ç‚¹å‡»æ’­æ”¾æŒ‰é’®ï¼Œå¼€å§‹æ¨¡æ‹Ÿ | `World Controls` panel | [ç»„ä»¶ç»“æ„ - World Controls](./ui-inventory.md#L154-208) |
| 3 | è§‚å¯Ÿ Canvas ä¸Šçš„æ™ºèƒ½ä½“ç§»åŠ¨å’Œé¢œè‰²å˜åŒ– | `PixiWorld` ç»„ä»¶ | [PixiWorld ç»„ä»¶](./ui-inventory.md#pixiworld-ç»„ä»¶) |
| 4 | åˆ‡æ¢å¾®è§‚/å®è§‚è§†å›¾æ¨¡å¼ | `viewportMode` selector | [ç»„ä»¶ç»“æ„ - Viewport Mode](./ui-inventory.md#L160-170) |
| 5 | ç‚¹å‡»æŸä¸ªæ™ºèƒ½ä½“ï¼ŒæŸ¥çœ‹å…¶è¯¦ç»†ç”»åƒ | `Agent Inspector` â†’ `Agent Profile` | [ç»„ä»¶ç»“æ„ - Agent Profile](./ui-inventory.md#L215-271) |
| 6 | æŸ¥çœ‹æ™ºèƒ½ä½“çš„å¿ƒç†æµ‹é‡æ•°æ®ï¼ˆå¤§äº”äººæ ¼ã€é“å¾·åŸºç¡€ï¼‰ | `Psychometrics` panel | [ç»„ä»¶ç»“æ„ - Psychometrics](./ui-inventory.md#L273-328) |
| 7 | åˆ‡æ¢åˆ° Feed é¡µé¢ï¼ŒæŸ¥çœ‹æ™ºèƒ½ä½“å‘å¸ƒçš„å¸–å­ | å¯¼èˆªæ  â†’ `FeedView` | [2.4 FeedView é¡µé¢](./ui-inventory.md#24-feedview-é¡µé¢---ä¿¡æ¯æµ) |
| 8 | æŸ¥çœ‹æƒ…ç»ªåˆ†å¸ƒå’ŒæåŒ–æŒ‡æ•° | `Metrics Dashboard` | [ç»„ä»¶ç»“æ„ - Metrics Dashboard](./ui-inventory.md#L200-387) |
| 9 | è¿”å›ä¸–ç•Œè§†å›¾ï¼Œæ·»åŠ ä¹¦ç­¾ | å¯¼èˆªæ  â†’ `ReplayView` â†’ æ·»åŠ ä¹¦ç­¾ | [2.5 ReplayView é¡µé¢](./ui-inventory.md#25-replayview-é¡µé¢---å›æ”¾) |
| 10 | åœ¨æ—¶é—´è½´ä¸Šè·³è½¬åˆ°ä¹¦ç­¾ä½ç½® | `Timeline` æ§åˆ¶ | [ç»„ä»¶ç»“æ„ - Timeline](./ui-inventory.md#L86-127) |

**éªŒæ”¶æ ‡å‡†**:
- ç”¨æˆ·èƒ½åœ¨ 3 åˆ†é’Ÿå†…å®Œæˆä¸Šè¿°æµç¨‹
- æ— éœ€æŸ¥çœ‹æ–‡æ¡£å³å¯ç†è§£æ ¸å¿ƒæ“ä½œ
- é¡µé¢åˆ‡æ¢æ— å¡é¡¿ï¼ŒçŠ¶æ€ä¿æŒæ­£ç¡®

---

### 3.2 Journey B: å®éªŒè®¾è®¡ä¸å¯¹æ¯” (Experiment Design & Comparison)

**ç”¨æˆ·**: æ•°æ®åˆ†æå¸ˆ (User B)
**ç›®æ ‡**: é…ç½®å¹¶å¯¹æ¯”ä¸åŒæ¨¡æ‹Ÿåœºæ™¯

| æ­¥éª¤ | åŠ¨ä½œ | é¡µé¢/ç»„ä»¶ | å¯¹åº” UI Inventory ç« èŠ‚ |
|------|------|----------|------------------------|
| 1 | è¿›å…¥å·¥ä½œå°é¡µé¢ | å¯¼èˆªæ  â†’ `WorkbenchView` | [2.3 WorkbenchView é¡µé¢](./ui-inventory.md#23-workbenchview-é¡µé¢---å·¥ä½œå°) |
| 2 | åœ¨ Design æ ‡ç­¾é…ç½®åœºæ™¯å‚æ•° | `Design Phase` â†’ `Scenario` tab | [ç»„ä»¶ç»“æ„ - Design Phase](./ui-inventory.md#design-phase) |
| 3 | è®¾ç½®åŸºå‡†æµ‹è¯•æŒ‡æ ‡ | `Benchmark Phase` panel | [ç»„ä»¶ç»“æ„ - Benchmark Phase](./ui-inventory.md#benchmark-phase) |
| 4 | å¯åŠ¨æ¨¡æ‹Ÿï¼Œè§‚å¯Ÿå®æ—¶ç»“æœ | `Live Feed` + `Agent Monitor` | [ç»„ä»¶ç»“æ„ - Live Feed](./ui-inventory.md#live-feed) |
| 5 | åœ¨å…³é”®æ—¶åˆ»åˆ›å»ºå®éªŒå¿«ç…§ | `World Controls` â†’ ä¿å­˜å¿«ç…§ | [Actions - create_snapshot](./ui-inventory.md#actions) |
| 6 | ä¿®æ”¹å‚æ•°ï¼Œé‡æ–°è¿è¡Œæ¨¡æ‹Ÿ | `Design Phase` â†’ é‡ç½® â†’ è¿è¡Œ | [ç»„ä»¶ç»“æ„ - Design Phase](./ui-inventory.md#design-phase) |
| 7 | è¿›å…¥å›æ”¾é¡µé¢ï¼Œå¯¹æ¯”ä¸¤æ¬¡å®éªŒç»“æœ | `ReplayView` â†’ åˆ‡æ¢å¿«ç…§ | [ç»„ä»¶ç»“æ„ - Simulation Records](./ui-inventory.md#simulation-records) |
| 8 | æŸ¥çœ‹æŒ‡æ ‡å›¾è¡¨ï¼Œå¯¼å‡ºæ•°æ® | `Metrics Phase` â†’ ECharts | [ç»„ä»¶ç»“æ„ - Metrics Phase](./ui-inventory.md#metrics-phase) |

**éªŒæ”¶æ ‡å‡†**:
- åœºæ™¯é…ç½®èƒ½åœ¨ 5 åˆ†é’Ÿå†…å®Œæˆ
- å¿«ç…§ä¿å­˜å’ŒåŠ è½½åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- æŒ‡æ ‡å¯¹æ¯”æ¸…æ™°ç›´è§‚

---

### 3.3 Journey C: æ¼”ç¤ºå±•ç¤º (Presentation)

**ç”¨æˆ·**: æ•™è‚²æ¼”ç¤ºè€… (User C)
**ç›®æ ‡**: å‘è§‚ä¼—å±•ç¤ºæ¨¡æ‹Ÿè¿‡ç¨‹

| æ­¥éª¤ | åŠ¨ä½œ | é¡µé¢/ç»„ä»¶ | å¯¹åº” UI Inventory ç« èŠ‚ |
|------|------|----------|------------------------|
| 1 | é¢„å…ˆå‡†å¤‡å¥½æ¼”ç¤ºåœºæ™¯ | `WorkbenchView` | [2.3 WorkbenchView é¡µé¢](./ui-inventory.md#23-workbenchview-é¡µé¢---å·¥ä½œå°) |
| 2 | ä¿å­˜å¤šä¸ªä¹¦ç­¾æ ‡è®°å…³é”®æ—¶åˆ» | `ReplayView` â†’ ä¹¦ç­¾ | [ç»„ä»¶ç»“æ„ - Bookmarks](./ui-inventory.md#bookmarks) |
| 3 | æ¼”ç¤ºæ—¶è¿›å…¥ä¸–ç•Œè§†å›¾ | `WorldView` | [2.2 WorldView é¡µé¢](./ui-inventory.md#22-worldview-é¡µé¢---ä¸–ç•Œè§†å›¾) |
| 4 | åˆ‡æ¢åˆ°ç™½å¤©æ¨¡å¼ä»¥æé«˜å¯è§†æ€§ | `ThemeToggleButton` | [App æ ¹ç»„ä»¶ - ThemeToggleButton](./ui-inventory.md#theme-toggle-button) |
| 5 | å…¨å±å±•ç¤ºæ™ºèƒ½ä½“ä¸–ç•Œ | æµè§ˆå™¨å…¨å± API | - |
| 6 | è¾¹æ’­æ”¾è¾¹è®²è§£ï¼Œä½¿ç”¨ä¹¦ç­¾è·³è½¬ | `Timeline` + ä¹¦ç­¾ | [ç»„ä»¶ç»“æ„ - Timeline](./ui-inventory.md#L86-127) |
| 7 | å±•ç¤ºä¿¡æ¯æµå¸–å­ | `FeedView` | [2.4 FeedView é¡µé¢](./ui-inventory.md#24-feedview-é¡µé¢---ä¿¡æ¯æµ) |
| 8 | å±•ç¤ºæƒ…ç»ªå˜åŒ–è¶‹åŠ¿ | `Metrics Dashboard` | [ç»„ä»¶ç»“æ„ - Sentiment Distribution](./ui-inventory.md#sentiment-distribution) |

**éªŒæ”¶æ ‡å‡†**:
- ç•Œé¢ç¾è§‚ï¼Œè§†è§‰æ•ˆæœæµç•…
- æ”¯æŒç™½å¤©æ¨¡å¼
- æ“ä½œç®€å•ï¼Œä¸ä¼šå› ä¸ºè¯¯æ“ä½œä¸­æ–­æ¼”ç¤º

---

## 4. éœ€æ±‚åˆ—è¡¨

### 4.1 Must Have (MVP æ ¸å¿ƒéœ€æ±‚)

| ID | éœ€æ±‚æè¿° | éªŒæ”¶æ ‡å‡† | å¯¹åº”é¡µé¢/ç»„ä»¶ | UI Inventory å¼•ç”¨ |
|----|---------|---------|-------------|-------------------|
| **M-1** | **ä¸–ç•Œè§†å›¾æ¸²æŸ“** | 1. æ”¯æŒ 1000+ æ™ºèƒ½ä½“åŒæ—¶æ˜¾ç¤º<br>2. æ”¯æŒç¼©æ”¾ã€æ‹–æ‹½ã€é€‰æ‹©äº¤äº’<br>3. æ™ºèƒ½ä½“é¢œè‰²æ ¹æ® mood æ¸²æŸ“ | `WorldView` / `PixiWorld` | [PixiWorld ç»„ä»¶](./ui-inventory.md#pixiworld-ç»„ä»¶) |
| **M-2** | **æ™ºèƒ½ä½“æ£€æŸ¥å™¨** | 1. ç‚¹å‡»æ™ºèƒ½ä½“æ˜¾ç¤ºå®Œæ•´ç”»åƒ<br>2. æ”¯æŒæŒ‰ ID æœç´¢<br>3. æ”¯æŒä¸Šä¸‹å¯¼èˆªç›¸é‚»æ™ºèƒ½ä½“ | `WorldView` / `Agent Inspector` | [Agent Inspector ç»„ä»¶](./ui-inventory.md#agent-inspector) |
| **M-3** | **æ—¶é—´è½´æ§åˆ¶** | 1. æ’­æ”¾/æš‚åœåŠŸèƒ½æ­£å¸¸<br>2. æ—¶é—´æ»‘å—å¯æ‹–åŠ¨è·³è½¬<br>3. æ˜¾ç¤ºå½“å‰ tick å’Œé€Ÿåº¦ | `WorldView` / `Timeline` | [Timeline ç»„ä»¶](./ui-inventory.md#timeline-æ—¶é—´è½´) |
| **M-4** | **ä¿¡æ¯æµå±•ç¤º** | 1. æŒ‰æ—¶é—´å€’åºæ˜¾ç¤ºå¸–å­<br>2. æ”¯æŒæ’åºï¼ˆæœ€æ–°/æœ€çƒ­/äº‰è®®ï¼‰<br>3. æ˜¾ç¤ºå¸–å­å…ƒæ•°æ®ï¼ˆä½œè€…/æƒ…ç»ª/ç‚¹èµï¼‰ | `FeedView` | [FeedView é¡µé¢](./ui-inventory.md#24-feedview-é¡µé¢---ä¿¡æ¯æµ) |
| **M-5** | **å›æ”¾åŠŸèƒ½** | 1. æ”¯æŒæ—¶é—´è½´è·³è½¬<br>2. æ”¯æŒä¹¦ç­¾æ·»åŠ /è·³è½¬/åˆ é™¤<br>3. æ”¯æŒæ’­æ”¾é€Ÿåº¦è°ƒæ•´ | `ReplayView` | [ReplayView é¡µé¢](./ui-inventory.md#25-replayview-é¡µé¢---å›æ”¾) |
| **M-6** | **é”™è¯¯è¾¹ç•Œå¤„ç†** | 1. æ¸²æŸ“é”™è¯¯æ—¶æ˜¾ç¤ºå‹å¥½æç¤º<br>2. æä¾›é‡è¯•æœºåˆ¶<br>3. ä¸å½±å“å…¶ä»–é¡µé¢åŠŸèƒ½ | `ErrorBoundary` | [ErrorBoundary ç»„ä»¶](./ui-inventory.md#error-boundary-ç»„ä»¶) |
| **M-7** | **ä¸»é¢˜åˆ‡æ¢** | 1. æ”¯æŒæ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢<br>2. åˆ‡æ¢åæ‰€æœ‰ç»„ä»¶æ ·å¼æ­£ç¡® | `Shell` / `ThemeToggleButton` | [ä¸»é¢˜åˆ‡æ¢](./ui-inventory.md#theme-toggle-button) |
| **M-8** | **å¯¼èˆªåŠŸèƒ½** | 1. 4 ä¸ªé¡µé¢å¯æ­£å¸¸åˆ‡æ¢<br>2. åˆ‡æ¢åçŠ¶æ€ä¿æŒ<br>3. å½“å‰é¡µé¢é«˜äº®æ˜¾ç¤º | `Shell` / Navigation | [è·¯ç”±é…ç½®](./ui-inventory.md#è·¯ç”±é…ç½®) |
| **M-9** | **Twitter Personas æ•°æ®** | 1. ä½¿ç”¨ 30 ä¸ªçœŸå® Twitter ç”¨æˆ·ç”»åƒ<br>2. åŒ…å«å®Œæ•´å¿ƒç†æµ‹é‡æ•°æ®<br>3. æ”¯æŒå¤§äº”äººæ ¼å’Œé“å¾·åŸºç¡€ç†è®º | `persona.ts` | [Twitter Personas](./ui-inventory.md#twitter-personas-data) |

---

### 4.2 Should Have (V1 é‡è¦åŠŸèƒ½)

| ID | éœ€æ±‚æè¿° | éªŒæ”¶æ ‡å‡† | å¯¹åº”é¡µé¢/ç»„ä»¶ | UI Inventory å¼•ç”¨ |
|----|---------|---------|-------------|-------------------|
| **S-1** | **æ™ºèƒ½ä½“å…³ç³»å›¾è°±** | 1. æ˜¾ç¤ºæ™ºèƒ½ä½“ä¹‹é—´çš„è¿æ¥å…³ç³»<br>2. æ”¯æŒèŠ‚ç‚¹æ‹–æ‹½<br>3. æ”¯æŒç¼©æ”¾å’Œå¹³ç§» | `WorldView` / `AgentGraphCanvas` | [AgentGraphCanvas ç»„ä»¶](./ui-inventory.md#agentgraph-ç»„ä»¶) |
| **S-2** | **å¾®è§‚/å®è§‚è§†å›¾åˆ‡æ¢** | 1. Micro: æ˜¾ç¤ºä¸ªä½“æ™ºèƒ½ä½“<br>2. Macro: æ˜¾ç¤ºç¾¤ä½“èšé›†<br>3. åˆ‡æ¢åŠ¨ç”»æµç•… | `WorldView` / `PixiWorld` | [Viewport Mode](./ui-inventory.md#viewport-mode) |
| **S-3** | **å®æ—¶ç›‘æ§é¢æ¿** | 1. Live Feed å®æ—¶æ›´æ–°å¸–å­<br>2. Agent Monitor æ˜¾ç¤ºæ™ºèƒ½ä½“çŠ¶æ€<br>3. Logs æ˜¾ç¤ºæ“ä½œæ—¥å¿— | `WorkbenchView` | [WorkbenchView ä¸­é—´/å³ä¾§åˆ—](./ui-inventory.md#workbenchview-é¡µé¢---å·¥ä½œå°) |
| **S-4** | **æŒ‡æ ‡ä»ªè¡¨ç›˜** | 1. åŸºç¡€ç»Ÿè®¡ï¼ˆå¸–å­æ•°/ç‚¹èµæ•°/å¹³å‡æƒ…ç»ªï¼‰<br>2. å‚ä¸åº¦æŒ‡æ ‡<br>3. æƒ…ç»ªåˆ†å¸ƒå¯è§†åŒ–<br>4. æåŒ–æŒ‡æ•°è®¡ç®— | `FeedView` / `Metrics Dashboard` | [Metrics Dashboard ç»„ä»¶](./ui-inventory.md#metrics-dashboard) |
| **S-5** | **å®éªŒå¿«ç…§** | 1. å¯åˆ›å»ºå‘½åå¿«ç…§<br>2. å¿«ç…§åˆ—è¡¨æ˜¾ç¤º tick å’Œæ—¶é—´<br>3. å¯åŠ è½½/åˆ é™¤å¿«ç…§ | `ReplayView` / `Simulation Records` | [Simulation Records ç»„ä»¶](./ui-inventory.md#simulation-records) |
| **S-6** | **æ•°æ®åŠ è½½çŠ¶æ€** | 1. é¡µé¢åŠ è½½æ—¶æ˜¾ç¤º Loading<br>2. æ•°æ®è¯·æ±‚æ—¶æ˜¾ç¤ºè¿›åº¦<br>3. è¶…æ—¶æ˜¾ç¤ºé”™è¯¯æç¤º | å…¨å±€ / `LoadingProvider` | [Loading çŠ¶æ€å¤„ç†](./ui-inventory.md#loading-çŠ¶æ€å¤„ç†) |
| **S-7** | **æ“ä½œåé¦ˆ** | 1. æ“ä½œæˆåŠŸæ˜¾ç¤º Toast æç¤º<br>2. æ“ä½œå¤±è´¥æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯<br>3. æç¤º 3 ç§’åè‡ªåŠ¨æ¶ˆå¤± | å…¨å±€ / `Toast` ç»„ä»¶ | [Success æˆåŠŸçŠ¶æ€](./ui-inventory.md#success-æˆåŠŸçŠ¶æ€) |
| **S-8** | **è¡¨å•éªŒè¯** | 1. è¾“å…¥æ¡†éªŒè¯æ ¼å¼<br>2. å¿…å¡«é¡¹æç¤º<br>3. é”™è¯¯ä¿¡æ¯æ˜¾ç¤ºåœ¨å¯¹åº”å­—æ®µä¸‹æ–¹ | `WorkbenchView` è¡¨å• | [ç¼ºå¤±çš„é”™è¯¯å¤„ç†](./ui-inventory.md#ç¼ºå¤±çš„é”™è¯¯å¤„ç†) |
| **S-9** | **LLM æ™ºèƒ½ä½“** | 1. æ”¯æŒå¤šç§ LLM æä¾›å•†<br>2. å¯é…ç½®æ¨¡å‹å‚æ•°<br>3. åŠ¨æ€åˆ‡æ¢å¯ç”¨çŠ¶æ€ | `WorkbenchView` / LLM Config | [LLM Integration](./LLM-Integration.md) |

---

### 4.3 Could Have (æœªæ¥ç‰ˆæœ¬)

| ID | éœ€æ±‚æè¿° | éªŒæ”¶æ ‡å‡† | å¯¹åº”é¡µé¢/ç»„ä»¶ | å¤‡æ³¨ |
|----|---------|---------|-------------|------|
| **C-1** | **å¹²é¢„åŠŸèƒ½å¢å¼º** | 1. æ‰¹é‡å¹²é¢„æ“ä½œ<br>2. è‡ªç„¶è¯­è¨€å‘½ä»¤è§£æ<br>3. é¢„è®¾å¹²é¢„æ¨¡æ¿ | `WorkbenchView` / `Interventions` | |
| **C-2** | **æ•°æ®å¯¼å‡º** | 1. å¯¼å‡ºæ¨¡æ‹Ÿæ•°æ®ä¸º CSV<br>2. å¯¼å‡ºå›¾è¡¨ä¸ºå›¾ç‰‡<br>3. å¯¼å‡ºé…ç½®ä¸º JSON | å…¨å±€ | éœ€åç«¯æ”¯æŒ |
| **C-3** | **è™šæ‹Ÿæ»šåŠ¨** | 1. Feed æ”¯æŒ 10000+ å¸–å­æµç•…æ»šåŠ¨<br>2. åªæ¸²æŸ“å¯è§åŒºåŸŸ | `FeedView` | [æ€§èƒ½ä¼˜åŒ–å»ºè®®](./ui-inventory.md#æ€§èƒ½ä¼˜åŒ–å»ºè®®) |
| **C-4** | **é”®ç›˜å¿«æ·é”®** | 1. Space: æ’­æ”¾/æš‚åœ<br>2. â†/â†’: å‰è¿›/åé€€<br>3. æ•°å­—é”®: åˆ‡æ¢é¡µé¢ | å…¨å±€ | [ä¸å®Œæ•´çš„äº¤äº’ - é”®ç›˜å¿«æ·é”®](./ui-inventory.md#ä¸å®Œæ•´çš„äº¤äº’) |
| **C-5** | **ç¦»çº¿ç¼“å­˜** | 1. Service Worker ç¼“å­˜èµ„æº<br>2. IndexedDB å­˜å‚¨æ•°æ® | å…¨å±€ | [æœªå®ç°åŠŸèƒ½ - ç¦»çº¿ç¼“å­˜](./ui-inventory.md#æœªå®ç°åŠŸèƒ½) |
| **C-6** | **å¯è®¿é—®æ€§ä¼˜åŒ–** | 1. æ·»åŠ  ARIA æ ‡ç­¾<br>2. æ”¯æŒé”®ç›˜å¯¼èˆª<br>3. å±å¹•é˜…è¯»å™¨å‹å¥½ | å…¨å±€ | [å¯è®¿é—®æ€§é—®é¢˜](./ui-inventory.md#å¯è®¿é—®æ€§é—®é¢˜) |
| **C-7** | **å¤šè¯­è¨€æ”¯æŒ** | 1. ä¸­æ–‡/è‹±æ–‡åˆ‡æ¢<br>2. æ‰€æœ‰æ–‡æ¡ˆå›½é™…åŒ– | å…¨å±€ | i18n é›†æˆ |
| **C-8** | **å¤šæ¨¡å‹å¯¹æ¯”** | 1. åŒæ—¶è¿è¡Œå¤šä¸ª LLM<br>2. å¯¹æ¯”ä¸åŒæ¨¡å‹è¾“å‡º<br>3. åˆ†ææ¨¡å‹è¡Œä¸ºå·®å¼‚ | `WorkbenchView` | |

---

## 5. æ•°æ®ä¸æƒé™æ¨¡å‹

### 5.1 æ•°æ®å®ä½“å…³ç³»å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              SimulationState                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  AgentProfile   â”‚    â”‚   AgentState    â”‚    â”‚    FeedPost     â”‚        â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚
â”‚  â”‚ id: number      â”‚â”€â”€â”€â–¶â”‚ id: number      â”‚    â”‚ id: string      â”‚        â”‚
â”‚  â”‚ name: string    â”‚    â”‚ mood: number    â”‚    â”‚ tick: number    â”‚        â”‚
â”‚  â”‚ group: string   â”‚    â”‚ stance: number  â”‚    â”‚ authorId: numberâ”‚â”€â”€â”€â”    â”‚
â”‚  â”‚ identity: {}    â”‚    â”‚ resources: num  â”‚    â”‚ content: string â”‚   â”‚    â”‚
â”‚  â”‚ psychometrics: {}â”‚  â”‚ evidence: {}    â”‚    â”‚ emotion: number â”‚   â”‚    â”‚
â”‚  â”‚ social_status: {}â”‚  â”‚ lastAction: str â”‚    â”‚ likes: number   â”‚   â”‚    â”‚
â”‚  â”‚ behavior_profileâ”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚  â”‚ cognitive_state â”‚                                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                             â”‚    â”‚
â”‚                                                                  â”‚    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚  â”‚    Snapshot     â”‚    â”‚    Bookmark     â”‚    â”‚    LogEntry     â”‚         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚  â”‚ id: string      â”‚    â”‚ tick: number    â”‚    â”‚ tick: number    â”‚         â”‚
â”‚  â”‚ tick: number    â”‚    â”‚ note: string    â”‚    â”‚ level: enum     â”‚         â”‚
â”‚  â”‚ name: string    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ message: string â”‚         â”‚
â”‚  â”‚ state: partial  â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                        â”‚
â”‚                                                                             â”‚
â”‚  å…¨å±€çŠ¶æ€: currentTick, isRunning, speed, selectedAgentId, config           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 æ ¸å¿ƒæ•°æ®ç»“æ„å®šä¹‰

**å®Œæ•´å®šä¹‰è§**: [`src/app/types.ts`](./ui-inventory.md#æ ¸å¿ƒæ•°æ®ç»“æ„)

#### 5.2.1 AgentProfile (æ™ºèƒ½ä½“ç”»åƒ) - åŸºäº Twitter Personas

```typescript
// æ¥æº: src/app/types.ts
interface AgentProfile {
  id: number                  // æ™ºèƒ½ä½“å”¯ä¸€æ ‡è¯† (1-30 å¯¹åº” Twitter personas)
  name: string                // æ˜¾ç¤ºåç§° (Twitter @username)
  group: string               // æ‰€å±ç¾¤ä½“ (Group A-E)

  // Identity èº«ä»½ä¿¡æ¯
  identity: {
    username: string           // Twitter ç”¨æˆ·å
    age_band: AgeBand         // å¹´é¾„æ®µ (18-24, 25-34, ..., unknown)
    gender: Gender            // æ€§åˆ« (male, female, unknown)
    location: {
      country: string         // å›½å®¶
      region_city: string     // åœ°åŒº/åŸå¸‚
    }
    profession: string         // èŒä¸š
    domain_of_expertise: string[]  // ä¸“ä¸šé¢†åŸŸ
  }

  // Psychometrics å¿ƒç†æµ‹é‡
  psychometrics: {
    personality: {
      big_five: BigFive       // å¤§äº”äººæ ¼
    }
    values: {
      moral_foundations: MoralFoundations  // é“å¾·åŸºç¡€ç†è®º
    }
  }

  // Social Status ç¤¾ä¼šåœ°ä½
  social_status: {
    influence_tier: InfluenceTier     // å½±å“åŠ›å±‚çº§ (ordinary_user, opinion_leader, elite)
    economic_band: EconomicBand       // ç»æµæ°´å¹³ (low, medium, high, unknown)
    social_capital: {
      network_size_proxy: number      // ç½‘ç»œè§„æ¨¡ä»£ç†å€¼ (0-4+)
    }
  }

  // Behavior Profile è¡Œä¸ºç”»åƒ
  behavior_profile: {
    posting_cadence: {
      posts_per_day: number            // æ—¥å‘å¸–æ•°
      diurnal_pattern: DiurnalPattern[]  // å‘å¸–æ—¶æ®µ (morning, afternoon, evening, night)
    }
    rhetoric_style: {
      civility: number                 // æ–‡æ˜åº¦ (0-1)
      evidence_citation: number        // è¯æ®å¼•ç”¨å€¾å‘ (0-1)
    }
  }

  // Cognitive State è®¤çŸ¥çŠ¶æ€
  cognitive_state: {
    core_affect: {
      sentiment: Sentiment             // æƒ…ç»ª (angry, calm, happy, sad, fearful, surprised)
      arousal: number                  // å”¤é†’åº¦ (0-1)
    }
    issue_stances: IssueStance[]      // è®®é¢˜ç«‹åœº
  }
}
```

#### 5.2.2 Big Five Personality Traits (å¤§äº”äººæ ¼)

```typescript
interface BigFive {
  O: number  // Openness å¼€æ”¾æ€§ (0-1)
  C: number  // Conscientiousness å°½è´£æ€§ (0-1)
  E: number  // Extraversion å¤–å‘æ€§ (0-1)
  A: number  // Agreeableness å®œäººæ€§ (0-1)
  N: number  // Neuroticism ç¥ç»è´¨ (0-1)
}
```

#### 5.2.3 Moral Foundations Theory (é“å¾·åŸºç¡€ç†è®º)

```typescript
interface MoralFoundations {
  care: number       // Care/Harm å…³æ€€/ä¼¤å®³ (0-1)
  fairness: number   // Fairness/Cheating å…¬å¹³/æ¬ºéª— (0-1)
  loyalty: number    // Loyalty/Betrayal å¿ è¯š/èƒŒå› (0-1)
  authority: number  // Authority/Subversion æƒå¨/åå› (0-1)
  sanctity: number   // Sanctity/Degradation ç¥åœ£/å •è½ (0-1)
}
```

#### 5.2.4 AgentState (æ™ºèƒ½ä½“çŠ¶æ€)

```typescript
interface AgentState {
  mood: number               // å½“å‰æƒ…ç»ª (-1: æè´Ÿé¢ ~ 1: ææ­£é¢)
  stance: number             // ç«‹åœº (-1: åå¯¹ ~ 1: æ”¯æŒ)
  resources: number          // èµ„æºé‡
  lastAction: string         // æœ€è¿‘æ‰§è¡Œçš„åŠ¨ä½œ
  evidence: Evidence         // è¯æ®è¿½è¸ª
}
```

#### 5.2.5 FeedPost (ä¿¡æ¯æµå¸–å­)

```typescript
interface FeedPost {
  id: string                 // å¸–å­å”¯ä¸€æ ‡è¯†
  tick: number               // å‘å¸ƒæ—¶é—´ (æ¨¡æ‹Ÿåˆ»åº¦)
  authorId: number           // ä½œè€… ID (å…³è” AgentProfile.id)
  authorName: string         // ä½œè€…åç§°
  emotion: number            // æƒ…ç»ªå€¼ (-1 ~ 1)
  content: string            // å¸–å­å†…å®¹
  likes: number              // ç‚¹èµæ•°
}
```

#### 5.2.6 LLMConfig (å¤§è¯­è¨€æ¨¡å‹é…ç½®)

```typescript
interface LLMConfig {
  // åŸºç¡€é…ç½®
  llmEnabled: boolean        // æ˜¯å¦å¯ç”¨ LLM æ™ºèƒ½ä½“
  llmProvider: LLMProvider   // LLM æä¾›å•†

  // æ¨¡å‹é…ç½®
  llmModel: string           // æ¨¡å‹åç§°
  llmBaseUrl: string         // API åŸºç¡€ URL
  llmApiKey: string          // API å¯†é’¥

  // ç”Ÿæˆå‚æ•°
  llmTemperature: number     // ç”Ÿæˆæ¸©åº¦ (0-1)
  llmMaxTokens: number       // æœ€å¤§ä»¤ç‰Œæ•°
  llmTopP: number            // Top-p é‡‡æ ·å‚æ•°

  // è¿è¡Œæ—¶é…ç½®
  llmActiveAgents: number    // æ´»è·ƒ LLM æ™ºèƒ½ä½“æ•°é‡
  llmTimeoutMs: number       // è¯·æ±‚è¶…æ—¶æ—¶é—´ (æ¯«ç§’)
}

type LLMProvider = 'openai' | 'deepseek' | 'vllm' | 'stub'
```

**LLM æä¾›å•†è¯´æ˜**:

| æä¾›å•† | è¯´æ˜ | æ¨èæ¨¡å‹ |
|--------|------|----------|
| `openai` | OpenAI å®˜æ–¹ API | gpt-4o-mini, gpt-4o |
| `deepseek` | DeepSeek API | deepseek-chat |
| `vllm` | æœ¬åœ°æˆ–ç§æœ‰éƒ¨ç½² | è‡ªå®šä¹‰æ¨¡å‹ |
| `stub` | è°ƒè¯•æ¨¡å¼ï¼ˆæ— å®é™…è°ƒç”¨ï¼‰ | STUB |

---

### 5.3 æƒé™æ¨¡å‹

**å½“å‰çŠ¶æ€**: Demo ç‰ˆæœ¬æ— æƒé™æ§åˆ¶ï¼Œæ‰€æœ‰åŠŸèƒ½å®Œå…¨å¼€æ”¾ã€‚

**OPEN QUESTIONS - æœªæ¥éœ€è€ƒè™‘**:

| é—®é¢˜ | è¯´æ˜ | ä¼˜å…ˆçº§ |
|------|------|--------|
| **ç”¨æˆ·è®¤è¯** | æ˜¯å¦éœ€è¦ç™»å½•ç³»ç»Ÿï¼Ÿ | V2 |
| **è§’è‰²æƒé™** | ç ”ç©¶è€…/å­¦ç”Ÿ/ç®¡ç†å‘˜ æ˜¯å¦æœ‰ä¸åŒæƒé™ï¼Ÿ | V2 |
| **æ•°æ®éš”ç¦»** | ä¸åŒç”¨æˆ·çš„æ¨¡æ‹Ÿæ•°æ®æ˜¯å¦éš”ç¦»ï¼Ÿ | V2 |
| **API å¯†é’¥** | å¦‚æ¥å…¥åç«¯ï¼Œå¦‚ä½•ç®¡ç† API å¯†é’¥ï¼Ÿ | V1 |
| **å¯¼å‡ºé™åˆ¶** | æ•°æ®å¯¼å‡ºæ˜¯å¦éœ€è¦é¢åº¦é™åˆ¶ï¼Ÿ | V2 |

---

## 6. åŸ‹ç‚¹ä¸æŒ‡æ ‡

### 6.1 æ¿€æ´»æŒ‡æ ‡ (Activation)

| äº‹ä»¶åç§° | è§¦å‘æ¡ä»¶ | å‚æ•° | ç”¨é€” |
|---------|---------|------|------|
| `page_view` | ç”¨æˆ·è®¿é—®ä»»ä½•é¡µé¢ | `{ page: string, referrer?: string }` | é¡µé¢è®¿é—®ç»Ÿè®¡ |
| `session_start` | åº”ç”¨å¯åŠ¨ | `{ timestamp: number, userAgent: string }` | ä¼šè¯ç»Ÿè®¡ |
| `first_interaction` | é¦–æ¬¡äº¤äº’ï¼ˆç‚¹å‡»/è¾“å…¥ï¼‰ | `{ type: string, target: string }` | æ¿€æ´»ç‡åˆ†æ |

### 6.2 æ ¸å¿ƒè½¬åŒ–æŒ‡æ ‡ (Core Conversion)

| äº‹ä»¶åç§° | è§¦å‘æ¡ä»¶ | å‚æ•° | ç”¨é€” |
|---------|---------|------|------|
| `simulation_start` | ç”¨æˆ·ç‚¹å‡»æ’­æ”¾æŒ‰é’® | `{ tick: number, agentCount: number }` | æ¨¡æ‹Ÿä½¿ç”¨ç‡ |
| `agent_selected` | ç”¨æˆ·é€‰æ‹©æ™ºèƒ½ä½“ | `{ agentId: number, source: 'canvas' | 'search' | 'nav' }` | æ£€æŸ¥å™¨ä½¿ç”¨ç‡ |
| `bookmark_added` | ç”¨æˆ·æ·»åŠ ä¹¦ç­¾ | `{ tick: number, note: string }` | å›æ”¾åŠŸèƒ½ä½¿ç”¨ç‡ |
| `snapshot_created` | ç”¨æˆ·åˆ›å»ºå¿«ç…§ | `{ name: string, tick: number }` | å®éªŒè®°å½•ä½¿ç”¨ç‡ |
| `scenario_configured` | ç”¨æˆ·é…ç½®åœºæ™¯ | `{ tab: string, params: object }` | å·¥ä½œå°é…ç½®ç‡ |
| `feed_sorted` | ç”¨æˆ·åˆ‡æ¢æ’åºæ–¹å¼ | `{ mode: 'time' | 'emotion' | 'likes' }` | ä¿¡æ¯æµäº¤äº’ç‡ |
| `theme_toggled` | ç”¨æˆ·åˆ‡æ¢ä¸»é¢˜ | `{ theme: 'light' | 'dark' }` | ä¸»é¢˜åˆ‡æ¢ç»Ÿè®¡ |
| `viewport_mode_changed` | ç”¨æˆ·åˆ‡æ¢è§†å›¾æ¨¡å¼ | `{ mode: 'micro' | 'macro' }` | è§†å›¾æ¨¡å¼ç»Ÿè®¡ |

### 6.3 ç•™å­˜ä¸ä½¿ç”¨é¢‘æ¬¡ (Retention & Engagement)

| æŒ‡æ ‡åç§° | è®¡ç®—æ–¹å¼ | ç›®æ ‡å€¼ |
|---------|---------|--------|
| **æ—¥æ´»è·ƒç”¨æˆ· (DAU)** | æ¯æ—¥å»é‡ç”¨æˆ·æ•° | - |
| **å‘¨æ´»è·ƒç”¨æˆ· (WAU)** | æ¯å‘¨å»é‡ç”¨æˆ·æ•° | - |
| **ç•™å­˜ç‡** | D7/D30 ç•™å­˜ç”¨æˆ·æ¯”ä¾‹ | D7 > 30%, D30 > 15% |
| **ä¼šè¯æ—¶é•¿** | session_start åˆ° session_end çš„æ—¶é•¿ | å¹³å‡ > 10 åˆ†é’Ÿ |
| **é¡µé¢æ·±åº¦** | å•æ¬¡ä¼šè¯è®¿é—®çš„ä¸åŒé¡µé¢æ•° | å¹³å‡ > 2 |
| **åŠŸèƒ½ä½¿ç”¨ç‡** | ä½¿ç”¨ç‰¹å®šåŠŸèƒ½çš„ç”¨æˆ·å æ¯” | - |
|   - æ¨¡æ‹Ÿæ’­æ”¾ | è§¦å‘ simulation_start çš„ç”¨æˆ·å æ¯” | > 80% |
|   - æ™ºèƒ½ä½“æ£€æŸ¥ | è§¦å‘ agent_selected çš„ç”¨æˆ·å æ¯” | > 60% |
|   - ä¿¡æ¯æµæµè§ˆ | è®¿é—® Feed é¡µé¢çš„ç”¨æˆ·å æ¯” | > 50% |
|   - å›æ”¾åŠŸèƒ½ | è®¿é—® Replay é¡µé¢çš„ç”¨æˆ·å æ¯” | > 30% |
|   - å·¥ä½œå°é…ç½® | è§¦å‘ scenario_configured çš„ç”¨æˆ·å æ¯” | > 20% |

### 6.4 æ€§èƒ½æŒ‡æ ‡ (Performance)

| æŒ‡æ ‡åç§° | ç›®æ ‡å€¼ | ç›‘æ§æ–¹å¼ |
|---------|--------|---------|
| **é¦–å±åŠ è½½æ—¶é—´ (FCP)** | < 1.5s | Web Vitals |
| **äº¤äº’å»¶è¿Ÿ (FID)** | < 100ms | Web Vitals |
| **ç´¯ç§¯å¸ƒå±€åç§» (CLS)** | < 0.1 | Web Vitals |
| **Canvas FPS** | > 30 FPS (æ­£å¸¸), > 20 FPS (å¤§é‡æ™ºèƒ½ä½“) | PixiWorld æ€§èƒ½ç›‘æ§ |
| **API å“åº”æ—¶é—´** | P50 < 200ms, P95 < 500ms | åç«¯ç›‘æ§ |
| **é”™è¯¯ç‡** | < 0.1% | ErrorBoundary + Sentry |

---

## 7. é‡Œç¨‹ç¢‘ä¸èŒƒå›´åˆ‡åˆ†

### 7.1 å·²å®Œæˆé‡Œç¨‹ç¢‘

#### MVP (Minimum Viable Product) âœ… å·²å®Œæˆ

**ç›®æ ‡**: éªŒè¯æ ¸å¿ƒä»·å€¼ï¼Œå®Œæˆæ¦‚å¿µæ¼”ç¤º

**å®Œæˆæ—¶é—´**: 2025-01-30

**äº¤ä»˜å†…å®¹**:
- [x] åŸºç¡€æ¡†æ¶æ­å»º + ä¸–ç•Œè§†å›¾åŸºç¡€æ¸²æŸ“
- [x] æ™ºèƒ½ä½“æ£€æŸ¥å™¨ + æ—¶é—´è½´æ§åˆ¶
- [x] ä¿¡æ¯æµé¡µé¢ + åŸºç¡€æŒ‡æ ‡
- [x] å›æ”¾åŠŸèƒ½ + å¯¼èˆªå®Œå–„
- [x] Twitter Personas æ•°æ®é›†æˆ

**éªŒæ”¶æ ‡å‡†**: å…¨éƒ¨è¾¾æˆ âœ…

---

#### V1 (Version 1.0) âœ… å·²å®Œæˆ

**ç›®æ ‡**: å®Œæ•´äº§å“åŠŸèƒ½ï¼Œæ”¯æŒçœŸå®ç ”ç©¶ä½¿ç”¨

**å®Œæˆæ—¶é—´**: 2026-02-06

**äº¤ä»˜å†…å®¹**:
- [x] æ™ºèƒ½ä½“å…³ç³»å›¾è°±
- [x] å¾®è§‚/å®è§‚è§†å›¾åˆ‡æ¢
- [x] å®æ—¶ç›‘æ§é¢æ¿
- [x] å®Œæ•´æŒ‡æ ‡ä»ªè¡¨ç›˜
- [x] å®éªŒå¿«ç…§åŠŸèƒ½
- [x] æ•°æ®åŠ è½½çŠ¶æ€ + æ“ä½œåé¦ˆ
- [x] è¡¨å•éªŒè¯å®Œå–„
- [x] **åç«¯ API å®Œæ•´é›†æˆ** (FastAPI + SQLite + WebSocket)

**éªŒæ”¶æ ‡å‡†**: å…¨éƒ¨è¾¾æˆ âœ…

---

#### V2 (Version 3.2) âœ… å·²å®Œæˆ

**ç›®æ ‡**: æ•°æ®æŒä¹…åŒ–å®Œå–„ï¼Œè·¨ç”µè„‘éƒ¨ç½²æ”¯æŒ

**å®Œæˆæ—¶é—´**: 2026-02-07

**äº¤ä»˜å†…å®¹**:
- [x] SQLite åµŒå…¥å¼æ•°æ®åº“å®Œå–„
- [x] æ•°æ®åº“æ–‡ä»¶å¯é…ç½®è·¯å¾„
- [x] è·¨ç”µè„‘æ•°æ®è¿ç§»æ”¯æŒ
- [x] ä¸€é”®å¯åŠ¨è„šæœ¬ä¼˜åŒ–
- [x] æ–‡æ¡£æ›´æ–°å®Œå–„

**éªŒæ”¶æ ‡å‡†**: å…¨éƒ¨è¾¾æˆ âœ…

---

### 7.2 V2 (æœªæ¥è§„åˆ’)

**ç›®æ ‡**: å¢å¼ºåŠŸèƒ½å’Œä¼˜åŒ–ä½“éªŒ

**è®¡åˆ’åŠŸèƒ½**:

| ID | åŠŸèƒ½æè¿° | ä¼˜å…ˆçº§ |
|----|---------|--------|
| **C-1** | æ‰¹é‡å¹²é¢„åŠŸèƒ½ | é«˜ |
| **C-2** | æ•°æ®å¯¼å‡º (CSV/JSON/å›¾ç‰‡) | é«˜ |
| **C-3** | è™šæ‹Ÿæ»šåŠ¨ (Feed æ”¯æŒ 10000+ å¸–å­) | ä¸­ |
| **C-4** | é”®ç›˜å¿«æ·é”® | ä¸­ |
| **C-5** | ç¦»çº¿ç¼“å­˜ (Service Worker) | ä½ |
| **C-6** | å¯è®¿é—®æ€§ä¼˜åŒ– (ARIA æ ‡ç­¾) | ä¸­ |
| **C-7** | å¤šè¯­è¨€æ”¯æŒ (i18n) | ä½ |

---

## 8. é™„å½•

### 8.1 æœ¯è¯­è¡¨

| æœ¯è¯­ | è‹±æ–‡ | å®šä¹‰ |
|------|------|------|
| æ™ºèƒ½ä½“ | Agent | æ¨¡æ‹Ÿä¸­çš„ä¸ªä½“ï¼Œå…·æœ‰ç‹¬ç«‹è¡Œä¸ºå’Œå±æ€§ |
| Tick | Tick | æ¨¡æ‹Ÿçš„æœ€å°æ—¶é—´å•ä½ |
| å¿«ç…§ | Snapshot | æŸä¸ªæ—¶åˆ»çš„æ¨¡æ‹ŸçŠ¶æ€å®Œæ•´ä¿å­˜ |
| ä¹¦ç­¾ | Bookmark | æ—¶é—´è½´ä¸Šçš„æ ‡è®°ç‚¹ï¼Œç”¨äºå¿«é€Ÿè·³è½¬ |
| æåŒ–æŒ‡æ•° | Polarization Index | ç¾¤ä½“æ„è§åˆ†åŒ–ç¨‹åº¦çš„é‡åŒ–æŒ‡æ ‡ |
| å¤§äº”äººæ ¼ | Big Five | OCEAN äººæ ¼æ¨¡å‹ï¼ˆå¼€æ”¾æ€§ã€å°½è´£æ€§ã€å¤–å‘æ€§ã€å®œäººæ€§ã€ç¥ç»è´¨ï¼‰ |
| é“å¾·åŸºç¡€ | Moral Foundations | MFT ç†è®ºï¼ˆå…³æ€€ã€å…¬å¹³ã€å¿ è¯šã€æƒå¨ã€ç¥åœ£ï¼‰ |
| Twitter Persona | Twitter Persona | åŸºäºçœŸå® Twitter æ•°æ®æå–çš„ç”¨æˆ·ç”»åƒ |

### 8.2 ç›¸å…³æ–‡æ¡£é“¾æ¥

| æ–‡æ¡£ | æè¿° |
|------|------|
| [UI Inventory](./ui-inventory.md) | å®Œæ•´çš„ UI ç»„ä»¶æ¸…å• |
| [Technical Architecture](./architecture.md) | æŠ€æœ¯æ¶æ„è®¾è®¡ï¼ˆå¾…åˆ›å»ºï¼‰ |
| [API Specification](./api-spec.md) | åç«¯ API è§„èŒƒï¼ˆå¾…åˆ›å»ºï¼‰ |
| [User Guide](./user-guide.md) | ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œï¼ˆå¾…åˆ›å»ºï¼‰ |

---

**æ–‡æ¡£ç‰ˆæœ¬**: v3.0
**æœ€åæ›´æ–°**: 2026-02-06
**é¡¹ç›®çŠ¶æ€**: V1 å·²å®Œæˆï¼Œè¿›å…¥åŠŸèƒ½å¢å¼ºé˜¶æ®µ
