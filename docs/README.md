# SocSim Lab - 项目文档

> **版本**: v3.0 | **更新日期**: 2026-02-06

---

## 项目概述

**SocSim Lab** 是一个基于多智能体模拟（Agent-Based Modeling）的社交动态可视化平台，采用前后端分离架构，旨在帮助研究人员、数据科学家和策略制定者直观地研究社会现象、舆情传播和群体行为。

### 核心特性

- 🚀 **完整后端集成**：FastAPI + SQLite + WebSocket
- 👥 **真实用户画像**：30 个 Twitter 用户数据，包含心理测量模型
- 🎨 **高性能渲染**：PixiJS 8.x 支持 200-50000 智能体可视化
- 📊 **数据可视化**：ECharts 图表、热力图、关系图谱
- 🎮 **实时干预**：自然语言命令控制模拟
- ⏮️ **时间回放**：完整事件流的时间轴功能

### 技术架构

```
┌─────────────────────────────────────────────────────────┐
│                    前端 (Frontend)                       │
├─────────────────────────────────────────────────────────┤
│ React 19 + TypeScript + Vite + PixiJS + ECharts         │
└──────────────────────┬──────────────────────────────────┘
                       │ REST API + WebSocket
┌──────────────────────┴──────────────────────────────────┐
│                    后端 (Backend)                        │
├─────────────────────────────────────────────────────────┤
│ FastAPI + SQLAlchemy + SQLite + NetworkX + SciPy        │
└─────────────────────────────────────────────────────────┘
```

---

## 核心功能

### 1. 世界视图 (World View) 🌍
- **PixiJS 8.x 渲染**：支持 200-50000 智能体流畅展示
- **双视图模式**：
  - 微观模式：显示单个智能体，颜色表示情绪
  - 宏观模式：网格热力图展示群体情绪分布
- **智能交互**：缩放、拖拽、惯性移动、点击选择
- **智能体检查器**：完整画像信息（身份、心理测量、行为特征）

### 2. 工作台 (Workbench) 🛠️
- **Design 设计阶段**：场景配置、约束设置、采样配置
- **Run 运行阶段**：启动/暂停、流式日志、书签标记
- **Intervene 干预阶段**：自然语言命令、干预记录
- **Analyze 分析阶段**：宏观指标、ECharts 图表、数据导出

### 3. 信息流 (Feed) 📰
- **帖子展示**：作者、情绪、点赞等信息
- **多种排序**：最新优先、最多点赞、最具争议
- **指标仪表盘**：基础统计、参与度、情绪分布、极化指数
- **交互操作**：发布帖子、点赞、跳转

### 4. 回放 (Replay) ⏮️
- **时间轴控制**：播放/暂停、速度调节、帧级控制
- **事件筛选**：agent_action、message、intervention、alert、bookmark
- **快照系统**：保存/加载任意时刻状态
- **书签管理**：标记关键时刻、添加备注

---

## 技术栈

| 类别 | 技术 | 版本 | 用途 |
|------|------|------|------|
| **前端** |
| 框架 | React | 19.2.0 | UI 框架 |
| 语言 | TypeScript | 5.9.3 | 类型系统 |
| 构建 | Vite | 7.2.4 | 构建工具 |
| 渲染 | PixiJS | 8.15.0 | 2D 渲染引擎 |
| 视口 | pixi-viewport | 6.0.3 | 缩放/拖拽 |
| 图表 | ECharts | 6.x | 数据可视化 |
| **后端** |
| 框架 | FastAPI | 0.109.0 | Web 框架 |
| ORM | SQLAlchemy | - | 数据库 ORM |
| 数据库 | SQLite3 | - | 数据存储 |
| 实时通信 | WebSocket | - | 双向通信 |
| 算法 | NetworkX | - | 网络分析 |
| 算法 | SciPy | - | 布局算法 |

---

## 数据模型

### Twitter Personas

项目使用 30 个真实提取的 Twitter 用户画像，数据维度：

- **身份信息**：用户名、年龄、性别、位置、职业、专业领域
- **心理测量**：
  - 大五人格（Big Five）：开放性、尽责性、外向性、宜人性、神经质
  - 道德基础理论（MFT）：关怀、公平、忠诚、权威、神圣
- **社会地位**：影响力层级、经济水平、社会资本
- **行为画像**：发帖频率、时段分布、修辞风格
- **认知状态**：核心情绪、议题立场

---

## 适用场景

- **学术研究**：研究社交媒体极化现象、信息传播模式、群体行为
- **教学演示**：展示社会动态演化过程，直观教学工具
- **策略分析**：评估政策宣传效果，对比不同干预方案
- **科普展示**：向公众直观展示社会系统复杂性

---

## 项目状态

当前版本 **v3.0**，处于 **功能完整阶段**：

| 模块 | 完成度 | 说明 |
|------|--------|------|
| 前端 UI | 100% | 4 个核心页面全部实现 |
| 后端 API | 100% | FastAPI 服务完整实现 |
| 数据集成 | 100% | Twitter Personas 已导入 |
| WebSocket | 100% | 实时双向通信 |
| 数据持久化 | 100% | SQLite + 快照系统 |

**开发模式**：支持 Mock 模式和真实 API 模式切换

---

**文档位置**: `docs/README.md`
**代码库**: `C:\Users\Lenovo\Desktop\demo_frontend`
